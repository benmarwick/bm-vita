%%% A template to produce a nice-looking Curriculum Vitae.
%%% Originally from Kieran Healy <kjhealy@gmail.com>
%%% Kieran's source is at http://kjhealy.github.com/kjh-vita
%%%
%%% This source code has been adapted by 
%%% Ben Marwick <benmarwick@gmail.com> and is largely
%%% determined by the instructions here:
%%% \{https://admin.artsci.washington.edu/promotion-and-tenure-documentation#curriculum}
%%%
%%% ------------------------------------------------------------------------
%%% Requirements for this docuemnt that are included
%%%  in (or otherwise easily obtained) a modern tex distribution:
%%% ------------------------------------------------------------------------
%%% xelatex (I'm using MiKTeX & Texmaker)
%%% fontspec.sty
%%% hyperrref.sty
%%% xunicode.sty
%%% color.sty
%%% url.sty
%%% fancyhdr.sty
%%% memoir.cls
%%% fontawesome.sty
%%% gitinfo.sty
%%% 
%%% 
%%% ------------------------------------------------------------------------
%%% Requirements from https://github.com/kjhealy/latex-custom-kjh
%%% ------------------------------------------------------------------------
%%% org-preamble-xelatex.sty
%%% memoir-article-styles.sty
%%%
%%% 
%%% ------------------------------------------------------------------------
%%% Note
%%%------------------------------------------------------------------------
%%% Because this is a hand-tweaked file, be on the look out for \medksip, 
%%% \bigskip and \newpage commands here and there, which are used to balance
%%% the layout or avoid widows & orphans, etc. You should of course add or 
%%% remove these as needed.
%%%------------------------------------------------------------------------

\documentclass[11pt,article,oneside,oldfontcommands]{memoir}   
\usepackage{microtype}
\usepackage{org-preamble-xelatex} 
\usepackage{fontawesome,url}
\usepackage{setspace}
\usepackage[footinfo]{gitinfo}

%%%------------------------------------------------------------------------
%%% Metadata
%%%------------------------------------------------------------------------

%% Change as needed.
\def\myauthor{Ben Marwick}
\def\mytitle{Vita}
\def\mycopyright{\myauthor}
\def\mykeywords{}
\def\mybibliostyle{plain}
\def\mybibliocommand{}
\def\mysubtitle{}
\def\myaffiliation{University of Washington}
\def\myaddress{Anthropology Department}
\def\myemail{bmarwick@uw.edu}
\def\myweb{http://faculty.washington.edu/bmarwick/ }
\def\myphone{(206) 552-9450}
\def\myfax{(206) 543-3285}
\def\mytwitter{@benmarwick}
\def\myversion{}
\def\myrevision{}


\def\myaffiliation{University of Washington}
\def\myauthor{Ben Marwick}
\date{} % not used (revision control instead)
\def\mykeywords{}


%%%------------------------------------------------------------------------
%%% Document
%%%------------------------------------------------------------------------

\begin{document}

%% Choose fonts for use with xelatex
%% Using free fonts with big glyph sets for maximum flexibility  
%% http://www.linuxlibertine.org/index.php?id=2&L=1
%% http://font.ubuntu.com/

\setromanfont[Mapping={tex-text}, 
	Numbers={OldStyle},
	Ligatures={Common}]{Linux Libertine}
\setsansfont[Mapping=tex-text,
	Ligatures={Common}, 
	Colour=AA0000]{Linux Biolinum}
\setmonofont[Mapping=tex-text,Scale=0.72]{Ubuntu} 

\newfontface\scheader[SmallCapsFont={Linux Libertine},SmallCapsFeatures={Letters=SmallCaps}]{Linux Libertine}

\newfontface\addressblock[Mapping={tex-text}, 
	Numbers={OldStyle},
	Ligatures={Common}]{Linux Libertine}


%%%------------------------------------------------------------------------
%%% Local commands
%%%------------------------------------------------------------------------

%% Marginal header
%% Note: as the document goes on you may need to introduce a (gradually increasing)
%% \vspace element to keep the marginal header pleasingly aligned with the first 
%% item in the body text. Like this: \marginhead{{\vskip 0.4em}Grants}, or 
%% \marginhead{{\vskip 0.8em}Service}. Experiment as needed.
\newcommand{\marginhead}[1]{\marginpar{\textsf{{\footnotesize\vspace{-1em}\flushright #1}}}}


%% [optional] custom ampersand (font consistent with the one chosen above)
\newcommand{\amper}{{\fontspec[Scale=.95,Colour=AA0000]{Linux Libertine}\selectfont\&\,}}

%% No bullets on labels
\renewcommand{\labelitemi}{~} 

%% Custom hanging indent for vita items
\def\ind{\hangindent=1 true cm\hangafter=1 \noindent}
%\def\ind{\hangindent=18pt\hangafter=1 \noindent}
\def\labelitemi{~}
\renewcommand{\labelitemii}{~}

%%%------------------------------------------------------------------------
%%% Page layout
%%%------------------------------------------------------------------------

% These lines will insert git revision info in the footer, using the gitinfo
% package---see docs for gitinfo package for details. Comment out this line
% if you're not using git.
\pagestyle{kjh}
\thispagestyle{kjhgit}

%%%------------------------------------------------------------------------
%%% Address and contact block
%%%------------------------------------------------------------------------
\begin{minipage}[t]{2.95in}
 \flushright {\footnotesize 
 \href{http://depts.washington.edu/anthweb/}{Department of Anthropology} \\ Box 353100 \\ University of Washington  \\ \vspace{-0.05in} Seattle \textsc{wa} 98195-3100}  
  
\end{minipage}
\hfill     
%\begin{minipage}[t]{0.0in}
% dummy (needed here)
%\end{minipage}
\hfill
\begin{minipage}[t]{1.7in}
  \flushright \footnotesize  \addressblock \myphone \, \faPhone \\ 
  {\scriptsize  \texttt{\href{http://twitter.com/benmarwick}{\mytwitter}} \, \faTwitter }  \\ 
  {\scriptsize  \texttt{\href{mailto:\myemail}{\myemail}} \, \faEnvelope} \\
  {\scriptsize  \texttt{\href{\myweb}{\myweb}} \, \faGlobe}
\end{minipage}

\medskip

%% Name 
%% Name 
\noindent{\LARGE\scheader \textsc{teaching effectiveness}}
\reversemarginpar

\bigskip   

\def\mainfont{Gill Sans MT}
\font\bodyfont="\mainfont:mapping=tex-text;+onum" at 8bp \let\tenrm\bodyfont
\font\boldfont="\mainfont/B" at 8bp \let\tenbf\boldfont
\bodyfont

\baselineskip=10bp
\smallskipamount=\baselineskip
\medskipamount=2\baselineskip
\setbox\strutbox=\hbox{%
  \vrule height .7\baselineskip depth .3\baselineskip width 0pt}

\newcount\rowcount

\def\headersfor#1{
  \noalign{\global\rowcount=0 \medbreak}
  \bf #1& LVL& LDR& ATT& DEF& INI& SPD& HP& DMG\crcr
  \noalign{\nobreak\smallskip}}

\def\cr{\crcr\noalign{\maybeskip}}

\def\maybeskip{\ifnum\rowcount=2 \global\rowcount=0 \smallbreak
  \else \global\advance\rowcount by 1 \fi}

\halign{#\hfil\strut&& \quad\hfil#\crcr
  \headersfor{Orc}
  Goblin&                2& 35&  16& 10& 4& 2& 20&  2--4\cr
  Furious Goblin&  2& 40&  14& 14& 6& 3& 38&  3--8\cr
  Orc&                    3& 60&  16& 17& 4& 2& 65&  7--10\cr
  Catapult&            3& 120& 33& 15& 4& 2& 80&  5--9\cr
  Veteran Orc&      4& 140& 25& 25& 6& 3& 110& 15--20\cr
  Shaman&            4& 200& 24& 32& 5& 3& 160& 15--18\cr
  \headersfor{Neutral}
  Thorn-Hunter&   1& 8&    4&  1& 2& 3& 5&   1--2\cr
  Thorn-Warrior&  1& 8&    4&  3& 4& 3& 8&   1--3\cr
  Fire Dragonfly& 1& 9&    3&  1& 5& 3& 6&   1--3\cr
  Lake Dragonfly& 1& 9&    3&  1& 6& 4& 6&   1--3\cr
  Devilfish&      1& 12&   6&  4& 6& 3& 10&  1--3\cr
  Venomous Spider&1& 12&   5&  1& 4& 3& 10&  2--3\cr
  Cave Spider&    1& 14&   4&  4& 2& 3& 14&  2--4\cr
  Hyena&          2& 20&   8&  8& 4& 3& 14&  3--4\cr
  Pirate&         2& 25&   8&  4& 4& 3& 20&  3--5\cr
  Swamp Snake&    2& 28&  12&  8& 4& 2& 25&  3--5\cr
  Fire Spider&    2& 30&  12& 12& 6& 3& 27&  4--5\cr
  Snake&          2& 30&  14&  8& 5& 2& 28&  3--6\cr
  % ...
}




\end{document}
